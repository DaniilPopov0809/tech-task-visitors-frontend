"use strict";(self.webpackChunktech_task_visitors_frontend=self.webpackChunktech_task_visitors_frontend||[]).push([[642],{410:function(e,n,t){t.d(n,{Z:function(){return m}});var s=t(9439),a=t(2791),r=t(9434),i=t(7022),o=t(3027),c=t(3360),l=t(4896),d=t(6828);var u=t(184);var m=function(e){var n=e.visitor,t=e.handleClose,m=e.setIsOpenModal,x=e.editForm,h=(0,a.useState)(""),j=(0,s.Z)(h,2),p=j[0],f=j[1],v=(0,a.useState)(""),Z=(0,s.Z)(v,2),b=Z[0],C=Z[1],g=(0,a.useState)(n?"".concat(n.name):""),y=(0,s.Z)(g,2),w=y[0],S=y[1],k=(0,a.useState)(n?"".concat(n.lastname):""),N=(0,s.Z)(k,2),I=N[0],M=N[1],D=(0,r.I0)(),O=function(e){var n=e.currentTarget,t=n.name,s=n.value;switch(t){case"name":S(s);break;case"lastname":M(s);break;case"username":f(s);break;case"password":C(s);break;default:return}};return(0,u.jsx)(i.Z,{className:"w-100 h-100 d-flex justify-content-center p-0",children:n||x?(0,u.jsxs)(o.Z,{onSubmit:function(e){if(e.preventDefault(),n){var t=n.id;D(d.Z.update({id:t,name:w,lastname:I})),m(!1)}else{var s=function(){var e=(new Date).getTime(),n=new Date(e),t=n.getFullYear(),s=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getDate()).padStart(2,"0"),r=String(n.getHours()).padStart(2,"0"),i=String(n.getMinutes()).padStart(2,"0"),o=String(n.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(s,"-").concat(a," ").concat(r,":").concat(i,":").concat(o)}();D(d.Z.create({name:w,lastname:I,date:s}))}},className:"text-center w-100",children:[(0,u.jsxs)(o.Z.Group,{className:"mb-3 text-start",children:[(0,u.jsx)(o.Z.Label,{children:"First name"}),(0,u.jsx)(o.Z.Control,{name:"name",type:"text",value:w,onChange:O,required:!0})]}),(0,u.jsxs)(o.Z.Group,{className:"mb-3 text-start",children:[(0,u.jsx)(o.Z.Label,{children:"Last name"}),(0,u.jsx)(o.Z.Control,{name:"lastname",type:"text",value:I,onChange:O,required:!0})]}),(0,u.jsx)(c.Z,{variant:"primary",type:"submit",onClick:t,disabled:!w||!I,children:n?"Update":"Add"})]}):(0,u.jsxs)(o.Z,{onSubmit:function(e){e.preventDefault(),D(l.Z.login({username:p,password:b}))},className:"text-center border border-1 rounded p-3",style:{width:"400px"},children:[(0,u.jsxs)(o.Z.Group,{className:"mb-3 text-start",children:[(0,u.jsx)(o.Z.Label,{children:"Username"}),(0,u.jsx)(o.Z.Control,{name:"username",type:"text",value:p,placeholder:"Enter username",onChange:O,required:!0})]}),(0,u.jsxs)(o.Z.Group,{className:"mb-3 text-start",controlId:"formBasicPassword",children:[(0,u.jsx)(o.Z.Label,{children:"Password"}),(0,u.jsx)(o.Z.Control,{name:"password",type:"password",placeholder:" Enter password",onChange:O,value:b})]}),(0,u.jsx)(c.Z,{variant:"primary",type:"submit",disabled:!p||!b,children:"Login"})]})})}},3642:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var s,a,r,i=t(9434),o=t(7022),c=t(3433),l=t(9439),d=t(2791),u=t(2591),m=t(168),x=t(6444),h=t(4324),j=(0,x.ZP)(h.CFC)(s||(s=(0,m.Z)(["\n  font-size: 18px;\n  margin-left: 8px;\n"]))),p=(0,x.ZP)(h.qwl)(a||(a=(0,m.Z)(["\n  font-size: 18px;\n  margin-left: 8px;\n"]))),f=(0,x.ZP)(h.dbR)(r||(r=(0,m.Z)(["\n  font-size: 18px;\n  margin-left: 8px;\n"]))),v=t(5316),Z=t(3360),b=t(410),C=t(6828),g=t(184),y=function(e){var n=e.visitor,t=e.handleClose,s=e.show,a=e.setIsOpenModal,r=e.name,c=(0,i.I0)();return(0,g.jsxs)(v.Z,{show:s,onHide:t,size:"sm",children:[(0,g.jsx)(v.Z.Header,{closeButton:!0,children:"Delete"===r?(0,g.jsxs)(v.Z.Title,{className:"text-center",children:["Delete ",n.name," ",n.lastname,"?"]}):(0,g.jsx)(v.Z.Title,{children:n?"Update visitor":"Add visitor"})}),(0,g.jsx)(v.Z.Body,{children:"Delete"!==r?(0,g.jsx)(b.Z,{visitor:n,handleClose:t,setIsOpenModal:a,editForm:"editForm"}):(0,g.jsxs)(o.Z,{className:"text-center",children:[" ",(0,g.jsx)(Z.Z,{className:"me-4",onClick:function(){c(C.Z.remove(n.id)),a(!1)},children:"Yes"}),(0,g.jsx)(Z.Z,{onClick:function(){return a(!1)},children:"No"})]})})]})};var w=function(e){var n=e.visitor,t=e.setIsOpenModal,s=e.name,a=e.nameClass,r=(0,d.useState)(!1),i=(0,l.Z)(r,2),o=i[0],c=i[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Z.Z,{variant:"primary",onClick:function(){return c(!0)},className:a,children:s}),(0,g.jsx)(y,{visitor:n,handleClose:function(){return c(!1)},show:o,setIsOpenModal:t,name:s})]})},S=function(e){var n=e.setIsOpenModal,t=e.visitor;return(0,g.jsx)("div",{className:"modal show",style:{display:"block",position:"absolute"},children:(0,g.jsxs)(v.Z.Dialog,{size:"sm",children:[(0,g.jsx)(v.Z.Header,{closeButton:!0,onClick:function(){return n(!1)},children:(0,g.jsx)(v.Z.Title,{style:{fontSize:20},children:"What do with ".concat(t.name," ").concat(t.lastname,"?")})}),(0,g.jsxs)(v.Z.Body,{children:[(0,g.jsx)(w,{visitor:t,setIsOpenModal:n,name:"Delete",nameClass:"me-4"}),(0,g.jsx)(w,{visitor:t,setIsOpenModal:n,name:"Update"})]})]})})},k=function(e){return e.visitors.items},N=function(e){return e.sort.sortColumn},I=function(e){return e.sort.sortDirection},M=function(e){return e.visitors.isLoading},D=t(4212),O=function(e,n,t){n&&e.sort((function(e,s){var a=e[n],r=s[n];return a.localeCompare(r,void 0,{sensitivity:"base"})*("asc"===t?1:-1)}))},F=function(){var e=(0,d.useState)(!1),n=(0,l.Z)(e,2),t=n[0],s=n[1],a=(0,d.useState)(null),r=(0,l.Z)(a,2),o=r[0],m=r[1],x=(0,i.I0)(),h=(0,i.v9)(N),v=(0,i.v9)(I),Z=(0,i.v9)(k);(0,d.useEffect)((function(){x(C.Z.readAll())}),[x]);var b=function(e){h===e?x((0,D.iX)("asc"===v?"desc":"asc")):(x((0,D.M4)(e)),x((0,D.iX)("asc")))},y=(0,c.Z)(Z);return O(y,h,v),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(u.Z,{striped:!0,bordered:!0,hover:!0,style:{maxWidth:"700px"},children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsxs)("th",{onClick:function(){return b("name")},children:["Name","name"===h&&(0,g.jsx)("span",{children:"asc"===v?(0,g.jsx)(p,{}):(0,g.jsx)(f,{})})||(0,g.jsx)(j,{})]}),(0,g.jsxs)("th",{onClick:function(){return b("lastname")},children:["Last name","lastname"===h&&(0,g.jsx)("span",{children:"asc"===v?(0,g.jsx)(p,{}):(0,g.jsx)(f,{})})||(0,g.jsx)(j,{})]}),(0,g.jsxs)("th",{onClick:function(){return b("date")},children:["Time visit","date"===h&&(0,g.jsx)("span",{children:"asc"===v?(0,g.jsx)(p,{}):(0,g.jsx)(f,{})})||(0,g.jsx)(j,{})]})]})}),(0,g.jsx)("tbody",{children:y.map((function(e){return(0,g.jsxs)("tr",{onClick:function(){return function(e){s(!0),m(e)}(e)},children:[(0,g.jsx)("td",{children:e.name}),(0,g.jsx)("td",{children:e.lastname}),(0,g.jsx)("td",{children:e.date})]},e.id)}))})]}),t&&(0,g.jsx)(S,{visitor:o,setIsOpenModal:s})]})},L=t(4849);var z=function(){return(0,g.jsx)(L.Z,{animation:"border",variant:"primary"})},T=function(){var e=(0,i.v9)(M);return(0,g.jsxs)(o.Z,{className:"py-4 px-3",children:[(0,g.jsx)("h1",{className:"mb-4",children:"Visitors in the building:"}),(0,g.jsxs)(o.Z,{className:"d-flex flex-column justify-content-center align-items-center p-0",children:[(0,g.jsx)(F,{}),e?(0,g.jsx)(z,{}):(0,g.jsx)(w,{name:"Add visitors"})]})]})}}}]);
//# sourceMappingURL=642.0a09bac4.chunk.js.map